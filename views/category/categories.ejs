<%- include('../inc/top.ejs') %>

  <div class="row m-2">
    <nav class="col-md-12 d-none d-sm-block" style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Category</li>
      </ol>
    </nav>
  </div>
  <% if (chk.length> 0) { %>
    <p class="alert alert-info">
      <%= chk %>
    </p>
    <% } %>
      <div class="title d-flex justify-content-center mb-3 bg-light col-12">
        <h2>Danh Sách Thể Loại</h2>
      </div>


      <div class="d-flex flex-row-reverse bg-body-tertiary">
        <!-- Add -->
        <a role="button" class="btn btn-outline-success m-2 mx-5" data-bs-toggle="modal"
          data-bs-target="#ModalAddCat">Thêm</a>
      </div>

      <!-- Modal Add Categorry -->
      <div class="modal fade" id="ModalAddCat" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="col-11 text-center modal-title fs-5" id="exampleModalLabel">Thêm Sản Phẩm</h1>
              <button type="button" class="btn-close col-1" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!-- Xử lý thêm thể loại tĩnh -->
              <form method="post">
                <div class="mb-3">
                  <label for="exampleInputName" class="form-label">Tên Thể Loại:</label>
                  <input type="text" class="form-control" id="exampleInputName" name="name" />
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Đóng
                  </button>
                  <button type="submit" class="btn btn-primary">Thêm</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-11 mx-sm-auto my-4 border border-color-default rounded">
        <table id="tableBodyProduct" class="table table-striped mt-3">
          <thead>
            <tr>
              <th scope="col"><button class="btn fw-bold m-0 p-0">#</button></th>
              <th scope="col">
                <form method="POST" action="">
                  <input type="hidden" name="sortProduct" value="namepro">
                  <button type="submit" class="btn fw-bold m-0 p-0">Mã thể loại<i
                      class="fa-solid fa-sort ms-2"></i></button>
                </form>
              </th>
              <th scope="col">
                <form method="POST" action="">
                  <input type="hidden" name="sortProduct" value="catpro">
                  <button type="submit" class="btn fw-bold m-0 p-0">Tên Thể Loại<i
                      class="fa-solid fa-sort ms-2"></i></button>
                </form>
              </th>

              <th class="fw-bold" scope="col"><button class="btn fw-bold m-0 p-0">Action</button></th>
            </tr>
          </thead>
          <tbody>
            <% for (let i=0; i < dataCats.length; i++) { %>

              <tr>
                <th scope="row">
                  <%= i+1 %>
                </th>
                <td>
                  <%= dataCats[i].id %>
                </td>
                <td>
                  <%= dataCats[i].name %>
                </td>

                <td>
                  <!-- Xem, Sửa, Xóa -->
                  <div class="row">

                    <form method="post" action="/products/categories/delete-cat">
                      <input type="text" hidden value="<%= dataCats[i].id %>" name="id" />
                      <button type="submit" onclick="return confirm('Bạn có đồng ý xóa thể loại này không?')"
                        class="btn btn-danger">Xóa</button>

                    </form>
                  </div>
                </td>
              </tr>
              <% } %>
          </tbody>
        </table>
      </div>
      <div class="d-flex justify-content-between align-items-center px-5 ">
        <span style="opacity: 0.7;">
          <%= dataCats.length %>/100
        </span>
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-end">
            <li class="page-item disabled">
              <a class="page-link">Trước</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
              <a class="page-link" href="#">Sau</a>
            </li>
          </ul>
        </nav>
      </div>

      <%- include('../inc/bottom.ejs') %>